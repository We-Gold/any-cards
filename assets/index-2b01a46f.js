(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(l){if(l.ep)return;l.ep=!0;const a=o(l);fetch(l.href,a)}})();const q=(t,e,o,r)=>f(t,r).map(c=>c.join(e)).join(o),f=(t,e)=>e.length===0?t:t.map(o=>o.filter((r,l)=>e.includes(l)));if(import.meta.vitest){const{it:t,expect:e}=import.meta.vitest,o=[["hello","world"],["bye","world"]],r=[["hello","world",""],["bye","world",""],["okay","world",""]];t("filterColumns",()=>{e(f(o,[])).toEqual(o),e(f(o,[0])).toEqual([["hello"],["bye"]]),e(f(o,[0,1])).toEqual(o),e(f(r,[0,1])).toEqual([["hello","world"],["bye","world"],["okay","world"]]),e(f(r,[0,2])).toEqual([["hello",""],["bye",""],["okay",""]])}),t("delimitParsedFile",()=>{e(q(o,",",`
`,[]),`hello,world
bye,world`),e(q(r,",",`
`,[]),`hello,world,
bye,world,
okay,world,`)})}const v=(t,e=",",o=`
`)=>h(t,o).map(l=>w(l,e)),h=(t,e)=>t.split(e),w=(t,e)=>t.split(e);if(import.meta.vitest){const{it:t,expect:e}=import.meta.vitest;t("parseFileByDelimiter",()=>{const o=`hello,world
bye,world`,r=`hello,world,
bye,world
see,ya`,l="";e(v(o,",",`
`)).toEqual([["hello","world"],["bye","world"]]),e(v(r,",",`
`)).toEqual([["hello","world",""],["bye","world"],["see","ya"]]),e(v(l,",",`
`)).toEqual([[""]])}),t("splitFileByLine",()=>{const o=`hello,world
bye,world`,r="hello,world",l="";e(h(o,`
`)).toEqual(["hello,world","bye,world"]),e(h(r,`
`)).toEqual(["hello,world"]),e(h(l,`
`)).toEqual([""])}),t("splitFileLineByDelimiter",()=>{const o="hello,world",r="hello,world,",l="",a="hello	world";e(w(o,",")).toEqual(["hello","world"]),e(w(r,",")).toEqual(["hello","world",""]),e(w(l,",")).toEqual([""]),e(w(a,"	")).toEqual(["hello","world"])})}const g=(t,e,o,r)=>({delimiter:t,newLineDelimiter:e,columns:o,mimeType:r}),S={CSV:g(",",`
`,[],"text/csv"),"OBSIDIAN-INLINE":g("::",`
`,[0,1],"text/markdown"),"OBSIDIAN-MULTILINE":g(`
?
`,`

`,[0,1],"text/markdown")};var m=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B={exports:{}};(function(t,e){(function(o,r){r()})(m,function(){function o(n,i){return typeof i>"u"?i={autoBom:!1}:typeof i!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}function r(n,i,u){var s=new XMLHttpRequest;s.open("GET",n),s.responseType="blob",s.onload=function(){y(s.response,i,u)},s.onerror=function(){console.error("could not download file")},s.send()}function l(n){var i=new XMLHttpRequest;i.open("HEAD",n,!1);try{i.send()}catch{}return 200<=i.status&&299>=i.status}function a(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(i)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof m=="object"&&m.global===m?m:void 0,F=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),y=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!F?function(n,i,u){var s=c.URL||c.webkitURL,d=document.createElement("a");i=i||n.name||"download",d.download=i,d.rel="noopener",typeof n=="string"?(d.href=n,d.origin===location.origin?a(d):l(d.href)?r(n,i,u):a(d,d.target="_blank")):(d.href=s.createObjectURL(n),setTimeout(function(){s.revokeObjectURL(d.href)},4e4),setTimeout(function(){a(d)},0))}:"msSaveOrOpenBlob"in navigator?function(n,i,u){if(i=i||n.name||"download",typeof n!="string")navigator.msSaveOrOpenBlob(o(n,u),i);else if(l(n))r(n,i,u);else{var s=document.createElement("a");s.href=n,s.target="_blank",setTimeout(function(){a(s)})}}:function(n,i,u,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),typeof n=="string")return r(n,i,u);var d=n.type==="application/octet-stream",M=/constructor/i.test(c.HTMLElement)||c.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||d&&M||F)&&typeof FileReader<"u"){var L=new FileReader;L.onloadend=function(){var p=L.result;p=j?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=p:location=p,s=null},L.readAsDataURL(n)}else{var A=c.URL||c.webkitURL,b=A.createObjectURL(n);s?s.location=b:location.href=b,s=null,setTimeout(function(){A.revokeObjectURL(b)},4e4)}});c.saveAs=y.saveAs=y,t.exports=y})})(B);var k=B.exports;const O=document.querySelector("#input"),D=document.querySelector("#output"),T=document.querySelector("#select-input"),x=document.querySelector("#select-output");document.addEventListener("DOMContentLoaded",()=>{let t="";for(const e of Object.keys(S))t+=`<option>${e}</option>`;T.innerHTML=t,x.innerHTML=t});const E=()=>{let t="";const e=U(),o=R();try{const r=v(O.value,e.delimiter,e.newLineDelimiter);t=q(r,o.delimiter,o.newLineDelimiter,o.columns)}catch(r){console.log(r)}D.value=t},U=()=>S[T.value],R=()=>S[x.value];O.addEventListener("input",E);T.addEventListener("change",E);x.addEventListener("change",E);document.querySelector("#input-upload").addEventListener("change",t=>{const[e]=t.target.files,o=new FileReader;o.addEventListener("load",()=>{O.value=o.result,E()},!1),e&&o.readAsText(e)},!1);document.querySelector("#download-file").addEventListener("click",()=>{const t=new Blob([D.value],{type:R().mimeType});k.saveAs(t)});
